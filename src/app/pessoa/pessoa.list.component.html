<app-pessoa-filtro (pesquisar)="pesquisar($event)" (limpar)="pesquisar($event)"></app-pessoa-filtro>
<p-card header="Pessoas">
  <p-table [value]="pessoas"
           [lazy]="true"
           (onLazyLoad)="load($event)"
           [paginator]="true"
           [rows]="10"
           [totalRecords]="totalRecords"
           [showCurrentPageReport]="true"
           [rowsPerPageOptions]="[10]"
           [loading]="loading">
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th pSortableColumn="nome">
          <span>Nome</span>
          <p-sortIcon field="nome"></p-sortIcon>
        </th>
        <th pSortableColumn="cpf">
          <span>CPF</span>
          <p-sortIcon field="cpf"></p-sortIcon>
        </th>
        <th>
          <span>E-mail</span>
          <p-sortIcon field="email"></p-sortIcon>
        </th>
        <th pSortableColumn="dataDeNascimento">
          <span>Data Nasc.</span>
          <p-sortIcon field="dataDeNascimento"></p-sortIcon>
        </th>
        <th style="width: 100px">
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex" let-columns="columns">
      <tr class="table-body-line">
        <td>
          {{rowData.nome}}
        </td>
        <td>
          {{rowData.cpf}}
        </td>
        <td>
          {{rowData.email}}
        </td>
        <td>
          {{rowData.dataDeNascimento}}
        </td>
        <td class="text-center">
          <a [routerLink]="['/pessoa/form', rowData.id]" style="color: #000; padding-right: 10px">
            <i class="material-icons">
              edit
            </i>
          </a>
          <i class="material-icons" (click)="remover(rowData, rowIndex)">
            delete_forever
          </i>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptyMessage" let-columns>
      <tr>
        <td [attr.colspan]="4" class="text-center">
          Nenhum registro
        </td>
      </tr>
    </ng-template>
  </p-table>
</p-card>
